# ngrams

<b>КАК ПОЛЬЗОВАТЬСЯ КОДОМ?:</b>

Препроцессинг

1. Сперва нужно скопироварь репозиторий: git clone https://github.com/Shakurova/ngrams.git
2. Потом с сайта http://storage.googleapis.com/books/ngrams/books/datasetsv2.html надо скачать нужные файлы с биграммами. Файлы устроены следующим образом: в одном файле хранятся n-граммы, у которых совпадают два первых символа (это значит, что в одном файле находятся все n-граммы, начинающиеся на аа, в следующем – на аб). Например, если Вы хотите исследовать сочетаемости прилагательных <i>влажный</i> и <i>мокрый</i>, значит, Вам нужно скачать файлы <i>vl</i> и <i>mo</i> из раздела 2-grams русского языка.
2. Далее нужно распаковать архив с биграммами и положить в папку, в которой находится программа <i>ines_selector.py</i>.
3. Теперь нужно открыть программу <i>lines_selector.py</i> и заменить значение переменной <i>googlefile</i> на название файла с биграммами, переменную <i>adj_root </i>на название прилагательного. В строке <i>if u'мокр' in line:</i> нужно заменить <i>'мокр'</i> на название прилагательного без окончания (например, 'влажн', 'тепл', 'горяч').
4. Если теперь запустить программу <i>lines-selector.py</i>, то создастся файл <i>_result_lines_selector.tsv</i>, в котором содержатся пары прилагательное, существительное, и частотность такого сочетания.
5. 

Mystem 

1. Нужно скачать mystem с сайта https://tech.yandex.ru/mystem/
2. В командной строке нужно написать <i>mystem -gind --format json --fixlist _result_lines_selector.tsv _gind_fix_mystem.tsv d</i>
3. На выходе получится файл <i>_gind_fix_mystem.tsv</i>, содержащий морфологический разбор прилагательных и существительных

Ngrams 

1. Теперь в программе ngrams.py нужно заменить adj_root на нужное прилагательное.
2. Если запустить программу ngrams.py, на выходе будет файл <i>result_dict_output</i>, содержащий лемматизированные существительные и их частотность

Comparation

1.  В программе ngram.py нужно прописать пути к файлам для прилагательных, полученных в результате работы программы lines_selector.py
2.  На выходе программа выдаст сравнительную таблицу по сочетаемости двух прилагательных


<b>НЕОБХОДИМЫЕ МОДУЛИ:</b>
могут быть найдены в файле requirements.txt

Для немецкого языка:
- treetaggerwrapper(для лемматизации)

Для английского:
- nltk(для лемматизации)



Список программ:
* lines_selector.py
* new_ngrams.py
* comparation.py

<b>Программа LINES_SELECTOR:</b>

Программа lines_selector берет файл, содержащий биграммы из google ngrams, год, количество вхождений, число книг в этот год. Возвращает файл <i>result_lines_selector</i>, содержащий пары прилагательное существительное и их частотность.

Функции:

* lines_selector -- возвращается массив строк, содержащих корень заданного прилагательного и теги _ADJ и _NOUN;

* frequency -- проверяется порядок слов (прилагательное существительное) и создается словарь <i>dictionary</i>, где ключи - существительное прилагательное, а значения - частотность.

* comparation -- выводит частотности существительных по паре прилагательных

<b>Программа NEW_NGRAMS:</b>

Программа new_ngrams берет файл <i>mystem_result</i>, содержащий разборы прилагательных и существительных с помощью Mystem'а. Возвращает файл <i>result_dict_output</i>, содержащий лемматизированные существительные и их частотность.

Функции:

* create_dictionary_gram -- возвращается словарь, содержащий разборы прилагательных и существительных;

* agreement -- проверяет согласованность прилагательного и существительного;

* create_result_dict -- создает словарь, содержащий лемматизированное существительное и частотность.


