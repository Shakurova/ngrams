# ngrams

Код написан на Python3.5
Для построения графиков должен быть скачан R

<b>Установка необходимых модулей:</b>

Для Python:
1. pip install -r requirements.txt
2. Если Вы хотите работать с немецким языком, Вам нужно будет установить модуль tretaggerwrapper. Для этого
- Создать где-нибудь папку, перейти по ссылке http://www.cis.uni-muenchen.de/~schmid/tools/TreeTagger/ и скачать в эту папку
-- пакет анализатора для целевой системы: Linux (x86), Linux (x86_64), Mac OS X (Intel), Mac OS X (PowerPC), Solaris (SPARC);
-- скрипты для разметки в директорию с пакетом анализатора (tagging scripts);
-- установочный скрипт install-tagger.sh;
-- файлы параметров для немецкого языка (German parameter file (UTF-8));
-- открыть терминал, перейти в папку, где лежат все файлы, и запустить установочный скрипт install-tagger.sh, который распакует и сконфигурирует пакеты в текущую директорию
( -- далее, нужно склонировать репозиторий https://github.com/miotto/treetagger-python и в терминале написать python setup.py install
export TREETAGGER_HOME='/path/to/your/TreeTagger/cmd/' )

Для R:
1. install.packages("ggplot2")
2. install.packages("plotly")

<b>КАК ПОЛЬЗОВАТЬСЯ КОДОМ?:</b>

1. Сперва нужно скопироварь репозиторий: git clone https://github.com/Shakurova/ngrams.git
2. Потом с сайта http://storage.googleapis.com/books/ngrams/books/datasetsv2.html надо скачать нужные файлы с биграммами. Файлы устроены следующим образом: в одном файле хранятся n-граммы, у которых совпадают два первых символа (это значит, что в одном файле находятся все n-граммы, начинающиеся на аа, в следующем – на аб). Например, если Вы хотите исследовать сочетаемости прилагательных <i>влажный</i> и <i>мокрый</i>, значит, Вам нужно скачать файлы <i>vl</i> и <i>mo</i> из раздела 2-grams русского языка.
2. Далее нужно распаковать архив с биграммами и положить в папку data (./russian/data/).
3. Запустить программу main.py и следовать инструкциям


Список программ:
* lines_selector.py
* new_ngrams.py
* comparation.py

<b>Программа LINES_SELECTOR:</b>

Программа lines_selector берет файл, содержащий биграммы из google ngrams, год, количество вхождений, число книг в этот год. Возвращает файл <i>result_lines_selector</i>, содержащий пары прилагательное существительное и их частотность.

Функции:

* lines_selector -- возвращается массив строк, содержащих корень заданного прилагательного и теги _ADJ и _NOUN;

* frequency -- проверяется порядок слов (прилагательное существительное) и создается словарь <i>dictionary</i>, где ключи - существительное прилагательное, а значения - частотность.

* comparation -- выводит частотности существительных по паре прилагательных

<b>Программа NEW_NGRAMS:</b>

Программа new_ngrams берет файл <i>mystem_result</i>, содержащий разборы прилагательных и существительных с помощью Mystem'а. Возвращает файл <i>result_dict_output</i>, содержащий лемматизированные существительные и их частотность.

Функции:

* create_dictionary_gram -- возвращается словарь, содержащий разборы прилагательных и существительных;

* agreement -- проверяет согласованность прилагательного и существительного;

* create_result_dict -- создает словарь, содержащий лемматизированное существительное и частотность.


